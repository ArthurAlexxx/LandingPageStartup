<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro de Usuário</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap');
        body {
            background-image: linear-gradient(to bottom, #ffffff, #fafcff, #f0faff, #e3f9ff, #d6f9ff);
            min-height: 100vh;
            margin: 0;
            font-family: 'Roboto', sans-serif;
        }
        .btngeral:hover {
            background-color: #2EE59D;
            box-shadow: 0px 15px 20px rgba(46, 229, 157, 0.4);
            color: #fff;
            transform: translateY(-3px);
        }
    </style>
</head>
<body>
    <main>
        <section>
            <div class="container d-flex flex-column flex-md-row align-items-center justify-content-center" style="margin-top: 130px;">
                <div class="card d-flex flex-md-row flex-column rounded-5 w-100">
                    <div class="p-4" style="flex: 1;">
                        <form id="registerForm">
                            <h1 class="text-center py-4">Faça seu registro</h1>
                            <div class="text-center my-3">
                                <label class="form-label text-start w-100 w-md-50" for="name">Nome
                                    <input class="form-control" type="text" id="name" required>
                                </label>
                            </div>
                            <div class="text-center my-3">
                                <label class="form-label text-start w-100 w-md-50" for="email">Email
                                    <input class="form-control" type="email" id="email" required>
                                </label>
                            </div>
                            <div class="text-center my-3">
                                <label class="form-label text-start w-100 w-md-50" for="phone">Telefone
                                    <input class="form-control" type="number" id="phone" required>
                                </label>
                            </div>
                            <div class="text-center my-3">
                                <label class="form-label text-start w-100 w-md-50" for="password">Senha
                                    <input class="form-control" type="password" id="password" required>
                                </label>
                            </div>
                            <div class="text-center my-2">
                                <label style="font-size: 13px;" class="w-100 w-md-50" for="terms">
                                    <input class="mx-2" type="checkbox" id="terms" required>
                                    Ao criar sua conta, você confirma que leu e concorda com os <a href="">termos de uso</a> da WhiteLabel.
                                </label>
                            </div>
                            <div class="text-center my-5">
                                <button style="background-color: #00636A;" class="btngeral btn btn-info mt-3 w-100 w-md-50 text-white" type="submit">Registrar</button>
                            </div>
                        </form>
                        <div class="text-center my-3">
                            <a href="/TelasLanding/index.html" style="text-decoration: none;">
                                <button style="background-color: #00565A; color: white; font-weight: bold; border: none; padding: 10px 20px; border-radius: 5px;" 
                                    class="btngeral">
                                    Voltar para a Página Inicial
                                </button>
                            </a>
                        </div>
                    </div>
                    <div class="d-flex flex-column align-items-center justify-content-center p-4 text-center rounded-5" style="flex: 1; background: linear-gradient(to bottom, #00636a, #91bfa6);">
                        <img src="/Images/logo.png" alt="" class="mb-3 img-fluid">
                        <p style="font-size: 25px;" class="text-white">"Transforme ideias em produtos com sua marca."</p>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <script type="module">
        // Import the necessary Firebase functions
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-auth.js";

        // Firebase configuration
        const firebaseConfig = {
        apiKey: "AIzaSyDCaPUDsMEowM-mfOyaQa33LEnocTksxBA",
        authDomain: "whitelabel-b16ff.firebaseapp.com",
        projectId: "whitelabel-b16ff",
        storageBucket: "whitelabel-b16ff.appspot.com",
        messagingSenderId: "984066920269",
        appId: "1:984066920269:web:e59a8626406b91e630b104"
    };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth();

        // Handle form submission
        document.getElementById("registerForm").addEventListener("submit", async (e) => {
    e.preventDefault(); // Impede o envio padrão do formulário
    const name = document.getElementById("name").value;
    const email = document.getElementById("email").value;
    const phone = document.getElementById("phone").value;
    const password = document.getElementById("password").value;

    try {
        // Cria o usuário no Firebase Auth
        const userCredential = await createUserWithEmailAndPassword(auth, email, password);
        console.log("Usuário registrado:", userCredential.user);
        alert("Usuário registrado com sucesso!");

        // Redireciona para a página de login
        window.location.href = "login.html"; // Substitua pelo caminho correto da página de login
    } catch (error) {
        console.error("Erro ao registrar usuário:", error.message);
        alert("Erro ao registrar: " + error.message);

        // Permanece na página atual automaticamente
    }
});
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
